{
    "definitions": {
        "sc_pattern": {
            "pattern": "SC\\[[0-9]+\\]\\.B\\[[0-9]+\\]"
        },
        "Gains Data": {
            "type": "object",
            "properties": {
                "Kp": {
                    "type": "array",
                    "minItems": 3,
                    "maxItems": 3,
                    "items": {
                        "type": "number",
                        "minimum": 0
                    }
                },
                "Kr": {
                    "type": "array",
                    "minItems": 3,
                    "maxItems": 3,
                    "items": {
                        "type": "number"
                    }
                },
                "Ki": {
                    "type": "array",
                    "minItems": 3,
                    "maxItems": 3,
                    "items": {
                        "type": "number"
                    }
                },
                "Ki_Limit": {
                    "anyOf": [
                        {
                            "type": "array",
                            "minItems": 3,
                            "maxItems": 3,
                            "items": {
                                "type": "number"
                            }
                        },
                        {
                            "type": "number"
                        }
                    ]
                },
                "K_lya": {
                    "type": "array",
                    "minItems": 1,
                    "maxItems": 2
                },
                "Omega": {
                    "type": "number"
                },
                "Zeta": {
                    "type": "number"
                },
                "Alpha": {
                    "type": "number"
                }
            }
        },
        "Gains": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Type": {
                    "type": "string",
                    "enum": [
                        "PID",
                        "PID_WN",
                        "MomentumDump",
                        "FC_LYA",
                        "CUSTOM"
                    ]
                },
                "Gains": {
                    "$ref": "#/definitions/Gains Data"
                }
            },
            "required": [
                "Type",
                "Gains"
            ]
        },
        "Limits": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Force Max": {
                    "type": "array",
                    "minItems": 3,
                    "maxItems": 3,
                    "items": {
                        "type": "number"
                    }
                },
                "Velocity Max": {
                    "type": "array",
                    "minItems": 3,
                    "maxItems": 3,
                    "items": {
                        "type": "number"
                    }
                }
            },
            "required": [
                "Force Max",
                "Velocity Max"
            ]
        },
        "Actuator": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Type": {
                    "type": "string",
                    "enum": [
                        "Ideal",
                        "WHL",
                        "MTB",
                        "THR_3DOF",
                        "THR_6DOF"
                    ]
                }
            },
            "required": [
                "Type"
            ]
        },
        "Controller": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Type": {
                    "type": "string",
                    "enum": [
                        "PID_CNTRL",
                        "LYA_ATT_CNTRL",
                        "LYA_2BODY_CNTRL",
                        "H_DUMP_CNTRL"
                    ]
                },
                "Gains": {
                    "$ref": "#/definitions/Gains"
                },
                "Limits": {
                    "$ref": "#/definitions/Limits"
                }
            },
            "required": [
                "Type",
                "Gains",
                "Limits"
            ]
        },
        "Position": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Position": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "minItems": 3,
                    "maxItems": 3
                },
                "Distance": {
                    "type": "number"
                },
                "Phase": {
                    "type": "number"
                },
                "Origin": {
                    "type": "string",
                    "anyOf": [
                        {
                            "$ref": "#/definitions/sc_pattern"
                        },
                        {
                            "pattern": "OP"
                        }
                    ]
                },
                "Frame": {
                    "type": "string",
                    "anyOf": [
                        {
                            "enum": [
                                "E",
                                "F",
                                "L",
                                "N"
                            ]
                        },
                        {
                            "$ref": "#/definitions/sc_pattern"
                        }
                    ]
                },
                "Controller": {
                    "$ref": "#/definitions/Controller"
                },
                "Actuator": {
                    "$ref": "#/definitions/Actuator"
                }
            },
            "required": [
                "Origin",
                "Frame",
                "Controller",
                "Actuator"
            ]
        },
        "Translation": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Translation Type": {
                    "type": "string",
                    "enum": [
                        "Docking",
                        "Circumnavigation"
                    ]
                },
                "Time To Dock": {
                    "type": "number"
                },
                "Distance": {
                    "type": "number"
                },
                "Phase": {
                    "type": "number"
                },
                "Origin": {
                    "type": "string",
                    "anyOf": [
                        {
                            "$ref": "#/definitions/sc_pattern"
                        },
                        {
                            "pattern": "OP"
                        }
                    ]
                },
                "Frame": {
                    "type": "string",
                    "enum": [
                        "E"
                    ]
                },
                "Controller": {
                    "$ref": "#/definitions/Controller"
                },
                "Actuator": {
                    "$ref": "#/definitions/Actuator"
                }
            },
            "required": [
                "Origin",
                "Frame",
                "Controller",
                "Actuator"
            ]
        },
        "Target": {
            "type": "object",
            "properties": {
                "Type": {
                    "type": "string",
                    "enum": [
                        "VEC",
                        "BODY",
                        "SC"
                    ]
                },
                "Frame": {
                    "type": "string",
                    "anyOf": [
                        {
                            "enum": [
                                "N",
                                "F",
                                "L"
                            ]
                        },
                        {
                            "$ref": "#/definitions/sc_pattern"
                        }
                    ]
                },
                "Axis": {
                    "type": "array",
                    "items": {
                        "type": "number",
                        "minItems": 3,
                        "maxItems": 3
                    }
                }
            },
            "required": [
                "Type"
            ],
            "allOf": [
                {
                    "if": {
                        "properties": {
                            "Type": {
                                "const": "VEC"
                            }
                        }
                    },
                    "then": {
                        "required": [
                            "Frame",
                            "Axis"
                        ]
                    }
                },
                {
                    "if": {
                        "properties": {
                            "Type": {
                                "const": "BODY"
                            }
                        }
                    },
                    "then": {
                        "required": [
                            "Target"
                        ],
                        "properties": {
                            "Target": {
                                "$id": "#/definitions/Target/properties/Target",
                                "type": "string"
                            }
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "Type": {
                                "const": "SC"
                            }
                        }
                    },
                    "then": {
                        "required": [
                            "Target"
                        ],
                        "properties": {
                            "Target": {
                                "$id": "#/definitions/Target/properties/Target",
                                "type": "string",
                                "$ref": "#/definitions/sc_pattern"
                            }
                        }
                    }
                }
            ]
        },
        "Vector": {
            "type": "object",
            "properties": {
                "Target": {
                    "$ref": "#/definitions/Target"
                }
            }
        },
        "One Vector": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Primary Vector": {
                    "$ref": "#/definitions/Vector"
                },
                "Controller": {
                    "$ref": "#/definitions/Controller"
                },
                "Actuator": {
                    "$ref": "#/definitions/Actuator"
                }
            },
            "required": [
                "Primary Vector",
                "Controller",
                "Actuator"
            ]
        },
        "Two Vector": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Primary Vector": {
                    "$ref": "#/definitions/Vector"
                },
                "Secondary Vector": {
                    "$ref": "#/definitions/Vector"
                },
                "Controller": {
                    "$ref": "#/definitions/Controller"
                },
                "Actuator": {
                    "$ref": "#/definitions/Actuator"
                }
            },
            "required": [
                "Primary Vector",
                "Secondary Vector",
                "Controller",
                "Actuator"
            ]
        },
        "Quaternion": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Quaternion": {
                    "type": "array",
                    "minItems": 4,
                    "maxItems": 4,
                    "items": {
                        "type": "number"
                    }
                },
                "Frame": {
                    "type": "string",
                    "anyOf": [
                        {
                            "enum": [
                                "N",
                                "F",
                                "L"
                            ]
                        },
                        {
                            "$ref": "#/definitions/sc_pattern"
                        }
                    ]
                },
                "Controller": {
                    "$ref": "#/definitions/Controller"
                },
                "Actuator": {
                    "$ref": "#/definitions/Actuator"
                }
            },
            "required": [
                "Quaternion",
                "Frame",
                "Controller",
                "Actuator"
            ]
        },
        "Mirror": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Target": {
                    "pattern": "SC\\[[0-9]+]"
                },
                "Controller": {
                    "$ref": "#/definitions/Controller"
                },
                "Actuator": {
                    "$ref": "#/definitions/Actuator"
                }
            },
            "required": [
                "Target",
                "Controller",
                "Actuator"
            ]
        },
        "Detumble": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Controller": {
                    "$ref": "#/definitions/Controller"
                },
                "Actuator": {
                    "$ref": "#/definitions/Actuator"
                }
            },
            "required": [
                "Controller",
                "Actuator"
            ]
        },
        "Whl H Manage": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Dumping": {
                    "type": "boolean"
                },
                "Minimum H_norm": {
                    "type": "number",
                    "minimum": 0
                },
                "Maximum H_norm": {
                    "type": "number",
                    "minimum": 0
                },
                "Controller": {
                    "$ref": "#/definitions/Controller"
                },
                "Actuator": {
                    "$ref": "#/definitions/Actuator"
                }
            },
            "required": [
                "Dumping",
                "Minimum H_norm",
                "Maximum H_norm",
                "Controller",
                "Actuator"
            ]
        },
        "cmd_act": {
            "type": "object",
            "properties": {
                "Type": {
                    "type": "string"
                },
                "Index": {
                    "type": "integer",
                    "minimum": 0
                },
                "Duty Cycle": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                }
            },
            "required": [
                "Type",
                "Index",
                "Duty Cycle"
            ]
        },
        "Actuator Cmd": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Actuators": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/cmd_act"
                    }
                }
            },
            "required": [
                "Actuators"
            ]
        },
        "Maneuver": {
            "type": "object",
            "properties": {
                "Description": {
                    "type": "string"
                },
                "Delta V": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "minItems": 3,
                    "maxItems": 3
                },
                "Frame": {
                    "type": "string",
                    "enum": [
                        "B",
                        "N",
                        "L"
                    ]
                },
                "Type": {
                    "type": "string",
                    "enum": [
                        "CONSTANT",
                        "SMOOTHED"
                    ]
                },
                "Duration": {
                    "type": "number",
                    "minimum": 0
                },
                "Limits": {
                    "$ref": "#/definitions/Limits"
                },
                "Actuator": {
                    "$ref": "#/definitions/Actuator"
                }
            },
            "required": [
                "Delta V",
                "Frame",
                "Type",
                "Duration",
                "Limits",
                "Actuator"
            ]
        }
    },
    "title": "Inp_DSM",
    "type": "object",
    "properties": {
        "Gains Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Gains": {
                        "$ref": "#/definitions/Gains"
                    }
                }
            }
        },
        "Limits Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Limits": {
                        "$ref": "#/definitions/Limits"
                    }
                }
            }
        },
        "Controller Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Controller": {
                        "$ref": "#/definitions/Controller"
                    }
                }
            }
        },
        "Position Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Position": {
                        "$ref": "#/definitions/Position"
                    }
                }
            }
        },
        "Translation Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Translation": {
                        "$ref": "#/definitions/Translation"
                    }
                }
            }
        },
        "One Vector Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "One Vector": {
                        "$ref": "#/definitions/One Vector"
                    }
                }
            }
        },
        "Two Vector Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Two Vector": {
                        "$ref": "#/definitions/Two Vector"
                    }
                }
            }
        },
        "Quaternion Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Quaternion": {
                        "$ref": "#/definitions/Quaternion"
                    }
                }
            }
        },
        "Mirror Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Mirror": {
                        "$ref": "#/definitions/Mirror"
                    }
                }
            }
        },
        "Detumble Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Detumble": {
                        "$ref": "#/definitions/Detumble"
                    }
                }
            }
        },
        "Whl H Manage Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Whl H Manage": {
                        "$ref": "#/definitions/Whl H Manage"
                    }
                }
            }
        },
        "Actuator Cmd Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Actuator Cmd": {
                        "$ref": "#/definitions/Actuator Cmd"
                    }
                }
            }
        },
        "Maneuver Configurations": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "Maneuver": {
                        "$ref": "#/definitions/Maneuver"
                    }
                }
            }
        },
        "DSM Commands": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "SC": {
                        "type": "integer",
                        "minimum": 0
                    },
                    "Command Sequence": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "Time": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "Commands": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "Type": {
                                                "type": "string",
                                                "enum": [
                                                    "Translation",
                                                    "Attitude",
                                                    "Actuator"
                                                ]
                                            }
                                        },
                                        "required": [
                                            "Type"
                                        ],
                                        "allOf": [
                                            {
                                                "if": {
                                                    "properties": {
                                                        "Type": {
                                                            "const": "Translation"
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "Subtype"
                                                    ],
                                                    "properties": {
                                                        "Subtype": {
                                                            "$id": "#/DSM Commands/Command Sequence/Subtype",
                                                            "type": "string",
                                                            "enum": [
                                                                "Passive",
                                                                "Position",
                                                                "Translation",
                                                                "Maneuver"
                                                            ]
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "properties": {
                                                        "Type": {
                                                            "const": "Attitude"
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "Subtype"
                                                    ],
                                                    "properties": {
                                                        "Subtype": {
                                                            "$id": "#/DSM Commands/Command Sequence/Subtype",
                                                            "type": "string",
                                                            "enum": [
                                                                "Passive",
                                                                "One Vector",
                                                                "Quaternion",
                                                                "Mirror",
                                                                "Detumble",
                                                                "Whl H Manage",
                                                                "Two Vector"
                                                            ]
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "properties": {
                                                        "Type": {
                                                            "const": "Actuator"
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "Command Data"
                                                    ],
                                                    "properties": {
                                                        "Command Data": {
                                                            "$id": "#/DSM Commands/Command Sequence/Command Data",
                                                            "$ref": "#/definitions/Actuator Cmd"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "Type": {
                                                                    "const": "Translation"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "properties": {
                                                                "Subtype": {
                                                                    "const": "Position"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "then": {
                                                    "required": [
                                                        "Command Data"
                                                    ],
                                                    "properties": {
                                                        "Command Data": {
                                                            "$id": "#/DSM Commands/Command Sequence/Command Data",
                                                            "$ref": "#/definitions/Position"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "Type": {
                                                                    "const": "Translation"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "properties": {
                                                                "Subtype": {
                                                                    "const": "Translation"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "then": {
                                                    "required": [
                                                        "Command Data"
                                                    ],
                                                    "properties": {
                                                        "Command Data": {
                                                            "$id": "#/DSM Commands/Command Sequence/Command Data",
                                                            "$ref": "#/definitions/Translation"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "Type": {
                                                                    "const": "Translation"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "properties": {
                                                                "Subtype": {
                                                                    "const": "Maneuver"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "then": {
                                                    "required": [
                                                        "Command Data"
                                                    ],
                                                    "properties": {
                                                        "Command Data": {
                                                            "$id": "#/DSM Commands/Command Sequence/Command Data",
                                                            "$ref": "#/definitions/Maneuver"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "Type": {
                                                                    "const": "Attitude"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "properties": {
                                                                "Subtype": {
                                                                    "const": "One Vector"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "then": {
                                                    "required": [
                                                        "Command Data"
                                                    ],
                                                    "properties": {
                                                        "Command Data": {
                                                            "$id": "#/DSM Commands/Command Sequence/Command Data",
                                                            "$ref": "#/definitions/One Vector"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "Type": {
                                                                    "const": "Attitude"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "properties": {
                                                                "Subtype": {
                                                                    "const": "Two Vector"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "then": {
                                                    "required": [
                                                        "Command Data"
                                                    ],
                                                    "properties": {
                                                        "Command Data": {
                                                            "$id": "#/DSM Commands/Command Sequence/Command Data",
                                                            "$ref": "#/definitions/Two Vector"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "Type": {
                                                                    "const": "Attitude"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "properties": {
                                                                "Subtype": {
                                                                    "const": "Quaternion"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "then": {
                                                    "required": [
                                                        "Command Data"
                                                    ],
                                                    "properties": {
                                                        "Command Data": {
                                                            "$id": "#/DSM Commands/Command Sequence/Command Data",
                                                            "$ref": "#/definitions/Quaternion"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "Type": {
                                                                    "const": "Attitude"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "properties": {
                                                                "Subtype": {
                                                                    "const": "Mirror"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "then": {
                                                    "required": [
                                                        "Command Data"
                                                    ],
                                                    "properties": {
                                                        "Command Data": {
                                                            "$id": "#/DSM Commands/Command Sequence/Command Data",
                                                            "$ref": "#/definitions/Mirror"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "Type": {
                                                                    "const": "Attitude"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "properties": {
                                                                "Subtype": {
                                                                    "const": "Detumble"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "then": {
                                                    "required": [
                                                        "Command Data"
                                                    ],
                                                    "properties": {
                                                        "Command Data": {
                                                            "$id": "#/DSM Commands/Command Sequence/Command Data",
                                                            "$ref": "#/definitions/Detumble"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "allOf": [
                                                        {
                                                            "properties": {
                                                                "Type": {
                                                                    "const": "Attitude"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "properties": {
                                                                "Subtype": {
                                                                    "const": "Whl H Manage"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "then": {
                                                    "required": [
                                                        "Command Data"
                                                    ],
                                                    "properties": {
                                                        "Command Data": {
                                                            "$id": "#/DSM Commands/Command Sequence/Command Data",
                                                            "$ref": "#/definitions/Whl H Manage"
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                }
                            },
                            "required": [
                                "Time",
                                "Commands"
                            ]
                        }
                    }
                },
                "required": [
                    "SC",
                    "Command Sequence"
                ]
            }
        }
    },
    "required": [
        "Gains Configurations",
        "Limits Configurations",
        "Controller Configurations",
        "Position Configurations",
        "Translation Configurations",
        "One Vector Configurations",
        "Two Vector Configurations",
        "Quaternion Configurations",
        "Mirror Configurations",
        "Detumble Configurations",
        "Whl H Manage Configurations",
        "Actuator Cmd Configurations",
        "Maneuver Configurations",
        "DSM Commands"
    ]
}